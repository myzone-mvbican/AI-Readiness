Currently, when a user clicks â€œStart New Assessment,â€ they are navigated to /dashboard/assessments/new. This route contains logic for selecting and creating an assessment.

Please refactor the logic from that route into a modal component and reuse it wherever assessment creation is triggered.

ğŸ§± 1. Extract Logic from /dashboard/assessments/new
Move the current logic (survey filtering, selection modal, and auto-redirect after selection) into a new reusable modal component:

tsx
Copy
Edit
<AssessmentCreateModal />
This modal should:

Fetch available surveys (based on visibility and status === "public")

Filter for surveys visible to the current user (global or assigned to their team)

If only 1 visible survey, skip the selection and auto-create the assessment

If multiple:

Show a survey selector (title, short description if available)

On selection, auto-create assessment via API (POST /api/assessments)

Redirect to /dashboard/assessments/:id

ğŸ§© 2. Replace Hardcoded Navigation with Modal Usage
Replace any â€œStart New Assessmentâ€ buttons with logic that opens the modal instead of redirecting:

Locations:
Sidebar â€œQuick Createâ€ button

/dashboard/assessments/ pageâ€™s top-right â€œStart New Assessmentâ€ button

Updated behavior:
On click, open <AssessmentCreateModal />

Do not navigate to /dashboard/assessments/new anymore

Once an assessment is created, redirect to:

bash
Copy
Edit
/dashboard/assessments/:id
ğŸ’… Design Guidelines
Use shadcn/ui Dialog, Button, and ScrollArea components

Support keyboard navigation and escape-to-close

Add a fallback for loading/error states if survey fetch fails

ğŸ”’ Permissions and Filters
Show only status: "public" surveys

Survey visibility must include:

"global" OR

visibility.includes(user.teamId)

âœ… Final Checklist:
 Reuse modal logic extracted from /dashboard/assessments/new

 Replace all â€œStart New Assessmentâ€ triggers with the modal

 Auto-redirect on successful creation

 Fully keyboard + mobile friendly

 Delete or repurpose the old route /dashboard/assessments/new